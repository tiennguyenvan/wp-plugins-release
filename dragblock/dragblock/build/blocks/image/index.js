!function(){"use strict";var r=window.wp.blocks,e=window.wp.element,o=window.wp.i18n,t=window.wp.blockEditor,a=(window.wp.hooks,window.wp.components,window.lodash);window.wp.data,(0,o.__)("Href","dragblock"),(0,o.__)("Target","dragblock"),(0,o.__)("default","dragblock"),(0,o.__)("New Tab","dragblock"),(0,o.__)("Parent Tab","dragblock"),(0,o.__)("Same Tab","dragblock"),(0,o.__)("Out of Iframe","dragblock"),(0,o.__)("Rel","dragblock"),(0,o.__)("Tab Index","dragblock"),(0,o.__)("Src","dragblock"),(0,o.__)("Alt","dragblock"),(0,o.__)("Name","dragblock"),(0,o.__)("Placeholder","dragblock"),(0,o.__)("Title","dragblock"),(0,o.__)("Type","dragblock"),(0,o.__)("Value","dragblock"),(0,o.__)("Disabled","dragblock"),(0,o.__)("Required","dragblock"),(0,o.__)("Selected","dragblock"),(0,o.__)("Action","dragblock"),(0,o.__)("Method","dragblock"),(0,o.__)("For","dragblock"),(0,o.__)("Sizes","dragblock"),(0,o.__)("Loading","dragblock"),(0,o.__)("Loading immediately or wait viewport","dragblock"),(0,o.__)("Default","dragblock"),(0,o.__)("Lazy","dragblock"),(0,o.__)("Eager","dragblock");const l=(r,e)=>{if(r)for(let[o,t]of r.entries())if(t.slug===e&&!t.disabled)return o;return-1};wp.hooks.addFilter("blocks.registerBlockType","dragblock/attributes-register",(function(r,e){return r=Object.assign({},r,{attributes:Object.assign({},r.attributes,{dragBlockClientId:{type:"string"},anchor:{type:"string",source:"attribute",default:"",attribute:"id",selector:"*"},className:{type:"string",default:""},dragBlockAttrs:{type:"array",default:""}})}),-1!==e.indexOf("dragblock")&&(r=Object.assign({},r,{attributes:Object.assign({},r.attributes,{}),supports:Object.assign({},r.supports,{anchor:!0})})),r}));const c={"[dragblock.home.url]":{label:(0,o.__)("Home URL","dragblock"),note:(0,o.__)("Home URL","dragblock"),render:r=>{}},"[dragblock.blog.url]":{label:(0,o.__)("Latest Post URL","dragblock"),note:(0,o.__)("Blog URL with Latest Posts","dragblock"),render:r=>{}},"[dragblock.login.url]":{label:(0,o.__)("Login URL","dragblock"),note:(0,o.__)("Login URL","dragblock"),render:r=>{}},"[dragblock.form.message.error]":{label:(0,o.__)("Form Submission Error Message","dragblock"),note:(0,o.__)("Error message after submitting form","dragblock"),placeholder:(0,o.__)("DragBlock Form Error: There is an uknown server error.","dragblock"),render:r=>{}},"[dragblock.post.title]":{label:(0,o.__)("Post Title","dragblock"),note:(0,o.__)("The parsed post's Title","dragblock"),placeholder:(0,o.__)("The DragBlock Post Title","dragblock"),render:r=>{if(_DragBlockDB.post&&_DragBlockDB.post.title)return _DragBlockDB.post.title}},"[dragblock.post.url]":{label:(0,o.__)("Post URL","dragblock"),note:(0,o.__)("The parsed post's url","dragblock"),render:r=>{}},"[dragblock.post.image.src]":{label:(0,o.__)("Post Image Thumbnail SRC","dragblock"),note:(0,o.__)("the parsed post's image src","dragblock"),render:r=>_DragBlockDB.post&&_DragBlockDB.post.image_src?_DragBlockDB.post.image_src:""},"[dragblock.post.author.url]":{label:(0,o.__)("Post Author URL","dragblock"),note:(0,o.__)("the parsed post's author page url","dragblock"),render:r=>{}},"[dragblock.post.author.name]":{label:(0,o.__)("Post Author Name","dragblock"),note:(0,o.__)("The parsed post's author name","dragblock"),placeholder:(0,o.__)("Author Name","dragblock"),render:r=>{if(_DragBlockDB.post&&_DragBlockDB.post.author_name)return _DragBlockDB.post.author_name}},"[dragblock.post.author.avatar.src]":{label:(0,o.__)("Post Author Avatar SRC","dragblock"),note:(0,o.__)("The parsed post's author's avatar SRC","dragblock"),render:r=>{if(_DragBlockDB.post&&_DragBlockDB.post.author_avatar_src)return _DragBlockDB.post.author_avatar_src}},"[dragblock.post.author.bio]":{label:(0,o.__)("Post Author Bio","dragblock"),note:(0,o.__)("The parsed post's author's biography/description","dragblock"),render:r=>{if(_DragBlockDB.post&&_DragBlockDB.post.author_bio)return _DragBlockDB.post.author_bio}},"[dragblock.post.date]":{label:(0,o.__)("Post Date Name","dragblock"),note:(0,o.__)("The parsed post's date","dragblock"),placeholder:(0,o.__)("July 01, 2086","dragblock"),render:r=>{if(_DragBlockDB.post&&_DragBlockDB.post.date)return _DragBlockDB.post.date}},"[dragblock.post.comment.number]":{label:(0,o.__)("Post Comment Number","dragblock"),note:(0,o.__)("The parsed post's comment number","dragblock"),placeholder:"0",render:r=>{if(_DragBlockDB.post&&_DragBlockDB.post.comment_number)return _DragBlockDB.post.comment_number}},"[dragblock.post.snippet]":{label:(0,o.__)("Post Snippet","dragblock"),note:(0,o.__)("The parsed post's snippet","dragblock"),placeholder:(0,o.__)("Get the first paragraph of the post content. If the post excerpt, a custom summary of the post that author manually inputted when composing the post content, exists, use that instead","dragblock"),render:r=>{if(!_DragBlockDB.post||!_DragBlockDB.post.snippet)return;let e=_DragBlockDB.post.snippet;if(r&&r.len&&!isNaN(r.len)&&e.length>Number(r.len)){let o="",t=Number(r.len);e.split(" ").map((r=>{o.length<t?o+=(o?" ":"")+r:r.endsWith(",")||r.endsWith("!")||r.endsWith(".")||r.endsWith(":")||r.endsWith("?")||r.endsWith(";")||(o+=(o?" ":"")+r)})),e=e.substring(0,Number(r.len))}return e}},"[dragblock.post.cat.name]":{label:(0,o.__)("Post Category Name","dragblock"),placeholder:(0,o.__)("Category Name","dragblock"),render:r=>{if(_DragBlockDB.post&&_DragBlockDB.post.cat_name)return _DragBlockDB.post.cat_name}},"[dragblock.post.cat.url]":{label:(0,o.__)("Post Category URL","dragblock"),render:r=>{}},"[dragblock.post.tag.name]":{label:(0,o.__)("Post Tag Name","dragblock"),placeholder:(0,o.__)("Tag Name","dragblock"),render:r=>{}},"[dragblock.post.tag.url]":{label:(0,o.__)("Post Tag URL","dragblock"),render:r=>{}},"[dragblock.share.url.twitter]":{label:(0,o.__)("Twitter Share URL","dragblock"),render:r=>{}},"[dragblock.share.url.facebook]":{label:(0,o.__)("Facebook Share URL","dragblock"),render:r=>{}},"[dragblock.share.url.whatsapp]":{label:(0,o.__)("Whatsapp Share URL","dragblock"),render:r=>{}},"[dragblock.share.url.telegram]":{label:(0,o.__)("Telegram Share URL","dragblock"),render:r=>{}},"[dragblock.share.url.tumblr]":{label:(0,o.__)("Tumblr Share URL","dragblock"),render:r=>{}},"[dragblock.share.url.reddit]":{label:(0,o.__)("Reddit Share URL","dragblock"),render:r=>{}},"[dragblock.share.url.linkedin]":{label:(0,o.__)("LinkedIn Share URL","dragblock"),render:r=>{}},"[dragblock.share.url.gmail]":{label:(0,o.__)("Gmail Share URL","dragblock"),render:r=>{}},"[dragblock.share.url.navigator]":{label:(0,o.__)("Navigator Share URL","dragblock"),render:r=>{}}};function s(r){const e=r.match(/(\w+)=(['"]?)([^\s'"]+)\2/g);if(!e)return{};const o={};return e.forEach((r=>{const[e,t]=r.split("=");o[e]=t.replace(/['"]/g,"")})),o}var d=JSON.parse('{"u2":"dragblock/image"}');(0,r.registerBlockType)(d.u2,{edit:function(r){const{attributes:o,setAttributes:d,isSelected:g}=r,{dragBlockAttrs:n,dragBlockClientId:_,className:b}=o;let k=((r,e)=>{let o=l(r,e);return-1===o?null:r[o].value})(n,"src"),i=(0,t.useBlockProps)(),u=null;if(k){if(-1!==k.indexOf("[")&&-1!==k.indexOf("]")){let r=function(r,e=null){if(e&&!_DragBlockDB.contentBlocks[e]&&_DragBlockDB.curParseId&&(_DragBlockDB.contentBlocks[e]=_DragBlockDB.curParseId),!_DragBlockDB.contentBlocks[e])return r;let o=_DragBlockDB.parseItemBlocks[_DragBlockDB.contentBlocks[e]];if(!o||!_DragBlockDB.posts[o])return r;_DragBlockDB.post=_DragBlockDB.posts[o];let t=function(r){const e=/\[([^\]]+)\]/g,o=[];let t;for(;null!==(t=e.exec(r));)o.push(t[1]);return o}(r);for(let e of t){let o=e.indexOf(" "),t=e,a="";if(-1!==o&&(t=e.substring(0,o),a=e.substring(o).trim()),c[`[${t}]`]){a&&(a=s(a));let o=c[`[${t}]`].render(a);if(!o)continue;r=r.split(`[${e}]`).join(o)}}return r}(k,_);k=r&&r!==k?r:dragBlockEditorInit.blankDemoImgUrl}else{let r=function(r,e=1400){let o=function(r){let e="";return-1===r.indexOf("https://youtu.be/")&&-1===r.indexOf("https://www.youtube.com/watch?v=")&&-1===r.indexOf("https://img.youtube.com/vi/")?"":(e=r.replace("https://youtu.be/","").replace("https://www.youtube.com/watch?v=","").replace("https://img.youtube.com/vi/",""),e=e.split("/")[0],e=e.split("&")[0],e=e.split("?")[0],e=e.split("#")[0],e)}(r);return o?`https://img.youtube.com/vi/${o}/${t=e,t>=1280?"maxresdefault":t>=640?"sddefault":t>=480?"hqdefault":"default"}.jpg`:"";var t}(k);r&&r!=k&&(u=(0,a.cloneDeep)(n),((r,e,o)=>{let t=l(r,e),a=r;-1===t?a.unshift({slug:e,value:o}):a[t].value=o})(u,"src",r),k=r)}i.src=k}else i.src=dragBlockEditorInit.blankDemoImgUrl;return(0,e.useEffect)((()=>{null!==u&&d({dragBlockAttrs:u})})),(0,e.createElement)("img",{...i})},save:function(r){const{attributes:o}=r;let a=t.useBlockProps.save();return(0,e.createElement)("img",{...a})}})}();