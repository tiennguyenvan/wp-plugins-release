!function(){var e,t={5688:function(e,t,l){"use strict";var n=window.wp.i18n;const a={click:{keyword:"mouse click",label:(0,n.__)("Click","dragblock"),type:"mouse"},mouseenter:{keyword:"mouse enter",label:(0,n.__)("Mouse Enter","dragblock"),type:"mouse"},mouseleave:{keyword:"mouse leave",label:(0,n.__)("Mouse Leave","dragblock"),type:"mouse"}};wp.hooks.addFilter("blocks.registerBlockType","dragblock/interactions-register",(function(e,t){return Object.assign({},e,{attributes:Object.assign({},e.attributes,{dragBlockScripts:{type:"array",default:""},dragBlockJS:{type:"string",default:""}})})}));var o=window.wp.element,c=l(4184),r=l.n(c),s=window.lodash,i=window.wp.compose,d=window.wp.blockEditor,u=window.wp.components;function m({children:e,className:t,onClose:l,onAction:a,onMouseLeave:c,onMouseEnter:i,onKeyDown:d,actions:m,title:p,disabled:g,hidden:b,list:h,index:f,position:v}){let k=null;const E=(0,o.useRef)(null);return l||(l=()=>{}),c||(c=()=>{}),i||(i=()=>{}),d||(d=()=>{}),m=Object.assign({},{top:!0,bottom:!0,up:!0,down:!0,duplicate:!0,disable:!0,hidden:!0,delete:!0},m),(0,o.createElement)(o.Fragment,null,(0,o.createElement)(u.Popover,{focusOnMount:!1,position:v||"bottom center",className:"dragblock-property-popover"+(t?" "+t:""),onFocusOutside:()=>{l()},onClose:()=>{l()},onClick:e=>{k={X:e.clientX,Y:e.clientY}},onMouseMove:e=>{k={X:e.clientX,Y:e.clientY}},onMouseLeave:e=>{null!==k&&k.X!==e.clientX&&k.Y!==e.clientY&&c()},onKeyDown:e=>{"Escape"!==e.key&&"Enter"!==e.key||("Enter"!==e.key||-1===e.target.className.indexOf("components-search-control__input")&&-1===e.target.className.indexOf("dragblock-chosen-control-input-showing")&&-1===e.target.className.indexOf("components-select-control__input"))&&l()},ref:E},p?(0,o.createElement)("div",{className:"title"},p):null,e?(0,o.createElement)("div",{className:"content"},e):null,(0,o.createElement)("div",{className:"actions"},m.top?(0,o.createElement)(u.Tooltip,{delay:10,text:(0,n.__)("Move Top","dragblock"),position:"top center"},(0,o.createElement)("a",{className:r()("action front",{disabled:0===f}),onClick:()=>{let e=null;if((0,s.isFunction)(m.top))e=m.top((0,s.cloneDeep)(h),f);else{if(0===f||!Array.isArray(h))return;e=(0,s.cloneDeep)(h);let t=(0,s.cloneDeep)(e[f]);e.splice(f,1),e.unshift(t)}a("top",e)}},(0,o.createElement)("svg",{style:{transform:"rotate(180deg)"},xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false"},(0,o.createElement)("path",{d:"M2 12c0 3.6 2.4 5.5 6 5.5h.5V19l3-2.5-3-2.5v2H8c-2.5 0-4.5-1.5-4.5-4s2-4.5 4.5-4.5h3.5V6H8c-3.6 0-6 2.4-6 6zm19.5-1h-8v1.5h8V11zm0 5h-8v1.5h8V16zm0-10h-8v1.5h8V6z"})))):null,m.bottom?(0,o.createElement)(u.Tooltip,{delay:10,text:(0,n.__)("Move Bottom","dragblock"),position:"top center"},(0,o.createElement)("a",{className:r()("action back",{disabled:f===h.length-1}),onClick:()=>{let e=null;if((0,s.isFunction)(m.bottom))e=m.bottom((0,s.cloneDeep)(h),f);else{if(f===h.length-1||!Array.isArray(h))return;e=(0,s.cloneDeep)(h);let t=(0,s.cloneDeep)(e[f]);e.splice(f,1),e.push(t)}a("bottom",e)}},(0,o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false"},(0,o.createElement)("path",{d:"M2 12c0 3.6 2.4 5.5 6 5.5h.5V19l3-2.5-3-2.5v2H8c-2.5 0-4.5-1.5-4.5-4s2-4.5 4.5-4.5h3.5V6H8c-3.6 0-6 2.4-6 6zm19.5-1h-8v1.5h8V11zm0 5h-8v1.5h8V16zm0-10h-8v1.5h8V6z"})))):null,m.up?(0,o.createElement)(u.Tooltip,{delay:10,text:(0,n.__)("Move Up","dragblock"),position:"top center"},(0,o.createElement)("a",{className:r()("action up",{disabled:0===f}),onClick:()=>{let e=null;if((0,s.isFunction)(m.up))e=m.up((0,s.cloneDeep)(h),f);else{if(0===f||!Array.isArray(h))return;e=(0,s.cloneDeep)(h);let t=(0,s.cloneDeep)(e[f]);e[f]=e[f-1],e[f-1]=t}a("up",e)}},(0,o.createElement)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false"},(0,o.createElement)("path",{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})))):null,m.down?(0,o.createElement)(u.Tooltip,{delay:10,text:(0,n.__)("Move Down","dragblock"),position:"top center"},(0,o.createElement)("a",{className:r()("action down",{disabled:f===h.length-1}),onClick:()=>{let e=null;if((0,s.isFunction)(m.down))e=m.down((0,s.cloneDeep)(h),f);else{if(f===h.length-1||!Array.isArray(h))return;e=(0,s.cloneDeep)(h);let t=(0,s.cloneDeep)(e[f]);e[f]=e[f+1],e[f+1]=t}a("down",e)}},(0,o.createElement)("svg",{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false"},(0,o.createElement)("path",{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})))):null,m.duplicate?(0,o.createElement)(u.Tooltip,{delay:10,text:(0,n.__)("Duplicate","dragblock"),position:"top center"},(0,o.createElement)("a",{className:"action duplicate",onClick:()=>{let e=null;if((0,s.isFunction)(m.duplicate))e=m.duplicate((0,s.cloneDeep)(h),f);else{if(!Array.isArray(h))return;e=(0,s.cloneDeep)(h),e.splice(f,0,(0,s.cloneDeep)(e[f]))}a("duplicate",e)}},(0,o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false"},(0,o.createElement)("path",{d:"M7 13.8h6v-1.5H7v1.5zM18 16V4c0-1.1-.9-2-2-2H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2zM5.5 16V4c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12c0 .3-.2.5-.5.5H6c-.3 0-.5-.2-.5-.5zM7 10.5h8V9H7v1.5zm0-3.3h8V5.8H7v1.4zM20.2 6v13c0 .7-.6 1.2-1.2 1.2H8v1.5h11c1.5 0 2.7-1.2 2.7-2.8V6h-1.5z"})))):null,m.disable?(0,o.createElement)(u.Tooltip,{delay:10,text:g?(0,n.__)("Enable","dragblock"):(0,n.__)("Disable","dragblock"),position:"top center"},(0,o.createElement)("a",{className:r()("action visibility",{disabled:!!g}),onClick:()=>{let e=null;if((0,s.isFunction)(m.disable))e=m.disable((0,s.cloneDeep)(h),f);else{if(!Array.isArray(h))return;e=(0,s.cloneDeep)(h)}a("disable",e)}},g?dragBlockIcons?.iconCircle:dragBlockIcons?.iconMinusCircle)):null,m.hidden?(0,o.createElement)(u.Tooltip,{delay:10,text:"*"===b?(0,n.__)("Show","dragblock"):(0,n.__)("Hide","dragblock"),position:"top center"},(0,o.createElement)("a",{className:"action",onClick:()=>{let e=null;if((0,s.isFunction)(m.hidden))e=m.hidden((0,s.cloneDeep)(h),f);else{if(!Array.isArray(h))return;e=(0,s.cloneDeep)(h)}a("hidden",e)}},"*"===b?dragBlockIcons?.iconEye:dragBlockIcons?.iconEyeClosed)):null,m.delete?(0,o.createElement)(u.Tooltip,{delay:10,text:(0,n.__)("Delete","dragblock"),position:"top center"},(0,o.createElement)("a",{className:"action delete",onClick:()=>{let e=null;(0,s.isFunction)(m.delete)?e=m.delete((0,s.cloneDeep)(h),f):(e=(0,s.cloneDeep)(h),(0,s.isArray)(h)?e.splice(f,1):"object"==typeof h&&delete e[f]),a("delete",e)}},(0,o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false"},(0,o.createElement)("path",{d:"M20 5h-5.7c0-1.3-1-2.3-2.3-2.3S9.7 3.7 9.7 5H4v2h1.5v.3l1.7 11.1c.1 1 1 1.7 2 1.7h5.7c1 0 1.8-.7 2-1.7l1.7-11.1V7H20V5zm-3.2 2l-1.7 11.1c0 .1-.1.2-.3.2H9.1c-.1 0-.3-.1-.3-.2L7.2 7h9.6z"})))):null,m.custom&&(0,o.createElement)(o.Fragment,null,Object.keys(m.custom).map(((e,t)=>(0,o.createElement)("span",{key:t},m.custom[e])))),(0,o.createElement)(u.Tooltip,{delay:10,text:(0,n.__)("Close","dragblock"),position:"top center"},(0,o.createElement)("a",{className:"action close",onClick:l},(0,o.createElement)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24","aria-hidden":"true",focusable:"false"},(0,o.createElement)("path",{d:"M13 11.8l6.1-6.3-1-1-6.1 6.2-6.1-6.2-1 1 6.1 6.3-6.5 6.7 1 1 6.5-6.6 6.5 6.6 1-1z"})))))))}function p({placeholder:e,onSelect:t,className:l,popOverClassName:a,icon:c,label:s,text:i,showTrigger:d,position:m,toolbarButton:p,suggestions:g}){const[b,h]=(0,o.useState)(0),[f,v]=(0,o.useState)(""),[k,E]=(0,o.useState)({}),[w,y]=(0,o.useState)(!1),[_,C]=(0,o.useState)(!1),[N,S]=(0,o.useState)([]),[O,x]=(0,o.useState)(null),[A,B]=(0,o.useState)(!1),D=()=>{y(!1)},j=()=>{let e={};for(let t in g){if(Object.keys(e).length>12)break;e[t]=g[t]}E(e),y(!0)},$=e=>{t(e),E({}),v(""),D()};let T=null,M="";if(g){if("string"==typeof g){if(M=g,g={},N&&N.length)for(let e of N)g[e.value]={label:e.label,note:e.note};switch(M){case"categories":g["[dragblock.post.cat.id]"]={label:(0,n.__)("Post Category ID"),note:(0,n.__)("Current Post Category ID")};break;case"tags":g["[dragblock.post.tag.id]"]={label:(0,n.__)("Post Tag ID"),note:(0,n.__)("Current Post Tag ID")};break;case"authors":g["[dragblock.post.author.id]"]={label:(0,n.__)("Post Author ID"),note:(0,n.__)("Current Post Author ID")}}}}else g={};const I=e=>{if(!e||!g||0===g.length)return void E({});let t=e.toLowerCase().trim().replace(/-/gi," ").split(" ").map((e=>e.trim())),l=t.join("").replace(/ /gi,""),n={},a=0;for(let e in g){let o="string"==typeof g[e]?g[e].toLowerCase():Object.values(g[e]).join(" ").toLowerCase(),c=!0;if(-1===o.replace(/ /gi,"").replace(/-/gi,"").indexOf(l))for(let e of t)if(-1===o.indexOf(e)){c=!1;break}if(c&&(n[e]=g[e],++a>=12))break}E(n)};return(0,o.createElement)("div",{className:r()("dragblock-autocomplete-search-box"+(l?" "+l:""),{"show-trigger":d})},p?(0,o.createElement)(u.ToolbarButton,{icon:c,iconSize:"24",label:s,className:"fake-search-button",variant:"secondary",onClick:()=>{A?B(!1):j()}}):(0,o.createElement)(u.Button,{icon:c,iconSize:"24",label:s,className:"fake-search-button",variant:"secondary",onClick:()=>{A?B(!1):j()}},i||(c?"":e)),w?(0,o.createElement)(u.Popover,{position:m||"bottom center",onFocusOutside:()=>{D()},onMouseMove:e=>{null!==T||(T={X:e.clientX,Y:e.clientY})},onClose:()=>{D()},onMouseLeave:e=>{null!==T&&T.X!==e.clientX&&T.Y!==e.clientY&&D()},className:r()("dragblock-autocomplete-search-box-popover"+(a?" "+a:""),{"show-trigger":d})},(0,o.createElement)(u.SearchControl,{onKeyDown:e=>{if("ArrowUp"===e.key)h(0===b?Object.keys(k).length-1:b-1);else if("ArrowDown"===e.key)b>=Object.keys(k).length-1?h(0):h(b+1);else if("Enter"===e.key){let e=Object.keys(k);if(b<0||e.length-1<b)return;let t=e[b];$(t),B(!0),D()}},placeholder:e,value:f,onChange:e=>{M?(C(!0),E([]),O&&clearTimeout(O),x(setTimeout((()=>{((e,t)=>{if(!e||!t)return void S([]);const l=new URLSearchParams({search:e,per_page:12,_locale:"users"});wp.apiFetch({path:`/wp/v2/${t}?${l.toString()}`}).then((l=>{S(l.map((e=>({label:e.name,value:e.id,note:e.description})))),l.map((e=>{g[e.id]={label:e.name,note:e.description}})),((e,t)=>{window["dragblock-query-objects"]||(window["dragblock-query-objects"]=new Object),window["dragblock-query-objects"][e]||(window["dragblock-query-objects"][e]=new Object);for(let l of t)window["dragblock-query-objects"][e][l.id]=l})(t,l),I(e),C(!1)})).catch((e=>{C(!1),S([])}))})(e,M)}),1e3))):I(e),v(e)}}),M&&f&&(0,o.createElement)("div",{className:"results"},!0===_?(0,o.createElement)(o.Fragment,null,(0,n.__)("Fetching...","dragblock")):(0,o.createElement)(o.Fragment,null,0===Object.keys(g).length&&(0,o.createElement)(o.Fragment,null,(0,n.__)("Not found any","dragblock")))),0!==Object.entries(k).length&&(0,o.createElement)("div",{className:"results"},Object.entries(k).map((([e,t],l)=>{let n=e,a=e;return"string"==typeof t?a=t:(t.note?n=t.note:t.label&&(n=t.label),t.label&&(a=t.label)),(0,o.createElement)("div",{key:l,className:"item",onMouseEnter:()=>{h(l)}},(0,o.createElement)("a",{className:r()("item-link",{active:b===l}),onClick:()=>{$(e)}},(0,o.createElement)("code",null,a)))})))):null)}function g({placeholder:e,onChange:t,tabIndex:l,value:n,position:a,options:c}){const[s,i]=(0,o.useState)(0),[d,u]=(0,o.useState)({}),[m,p]=(0,o.useState)(null),[g,b]=(0,o.useState)(n||"");c||(c={}),a||(a="top"),l||(l=0);const h=()=>{i(0),u({})},f=e=>{if(!e)return void h();let t={},l=0,n=(e=e.trim().toLowerCase()).split(" "),a=n[n.length-1];if(e&&e.trim()){for(let o in c){let r=c[o].toLowerCase();if(r===a||r===e)continue;let s=o+" "+r,i=!0;for(let e of n)if(-1===s.indexOf(e)||r===e){i=!1;break}if(i&&(t[o]=c[o],++l>=6))break}0===l&&-1!==e.indexOf(" ")&&a?f(a):u({...t})}else{for(let e in c)if(t[e]=c[e],6==++l)break;u({...t})}};return(0,o.createElement)("div",{className:"dragblock-chosen-control "+a,onMouseLeave:h},(0,o.createElement)("div",{className:"components-base-control"},(0,o.createElement)("div",{className:"components-base-control__field"},(0,o.createElement)("input",{className:r()("components-text-control__input",{"dragblock-chosen-control-input-showing":Object.keys(d).length>0}),value:g,placeholder:e,onKeyDown:e=>{if("Tab"===e.key&&Object.keys(d).length&&e.preventDefault(),"ArrowUp"===e.key)i(s<=0?Object.keys(d).length-1:s-1);else if("ArrowDown"===e.key)s>=Object.keys(d).length-1?i(0):i(s+1);else if("Enter"===e.key||"Tab"===e.key){h();let e=Object.keys(d);if(e.length-1<s||s<0)return;let l=e[s],n=g.split(" ");n[n.length-1]=l,t(n.join(" "))}},onClick:()=>{f(g)},onFocus:()=>{f(g)},onChange:e=>{const{value:l}=e.target;f(l),(e=>{b(e),m&&clearTimeout(m),p(setTimeout((()=>{t(e),p(null)}),500))})(l)}}))),Object.keys(c).length>0&&Object.keys(d).length>0&&(0,o.createElement)("div",{className:"options",onMouseLeave:h},Object.entries(d).map((([e,l],n)=>(0,o.createElement)("a",{key:n,onClick:()=>{t(e),h()},className:r()("option",{active:s===n})},l)))))}window.wp.data;const b=(0,i.createHigherOrderComponent)((e=>t=>{const{attributes:l,setAttributes:c,clientId:i,isSelected:b,isMultiSelected:h}=t;let{dragBlockScripts:f,dragBlockAttrs:v,className:k,anchor:E}=l;const[w,y]=(0,o.useState)(-1),[_,C]=(0,o.useState)(f&&f.length>0);f||(f=[]);const N=(e,t,l,n)=>{let a=(0,s.cloneDeep)(f);a[n][e]||(a[n][e]=[]),a[n][e][0]||(a[n][e][0]={}),a[n][e][0][t]=l,c({dragBlockScripts:a})},S=e=>0===e.indexOf("toggle")?(0,n.__)("of","dragblock"):0===e.indexOf("remove")?(0,n.__)("from","dragblock"):0===e.indexOf("add")?(0,n.__)("to","dragblock"):(0,n.__)("target","dragblock"),O=[{value:"",label:"Choose an Action"},{value:"toggleClass",label:"Toggle Class"},{value:"addClass",label:"Add Class"},{value:"removeClass",label:"Remove Class"}];return function(e,t=!0){const{clientId:l,isSelected:n,isMultiSelected:a,name:o,attributes:c}=e,{dragBlockRenderability:r}=c;return!n||a||["core/block"].includes(o)||t&&function(e){if(e&&e.length)for(let t of e)if(!t.disabled&&"render"===t.slug&&"never"===t.value)return!0;return!1}(r)}(t)?(0,o.createElement)(o.Fragment,null,(0,o.createElement)(e,{...t})):(0,o.createElement)(o.Fragment,null,(0,o.createElement)(e,{...t}),(0,o.createElement)(d.InspectorControls,null,(0,o.createElement)(u.PanelBody,{className:"dragblock-inspector-controls interactions"+(f&&f.length?" has-properties":""),title:(0,n.__)("Interactions","dragblock"),icon:dragBlockIcons?.iconWard,opened:_,onToggle:()=>{C(!_)}},(0,o.createElement)(p,{placeholder:(0,n.__)("+ Add a Trigger","dragblock"),onSelect:e=>{let t=(0,s.cloneDeep)(f);t.unshift({value:"",slug:e}),c({dragBlockScripts:t}),y(0)},suggestions:a}),f&&0!==f.length&&(0,o.createElement)("div",{className:"properties"},f.map(((e,t)=>{const{eventSource:l,conditions:s,thenActions:i,elseActions:d,disabled:p}=e,b={},h=function(){let e={};if(window.dragBlockSelectors&&window.dragBlockSelectors.classes&&window.dragBlockSelectors.classes.size>0)for(let t of window.dragBlockSelectors.classes)e[t]=t;return e}(),v=function(){let e={};if(window.dragBlockSelectors&&window.dragBlockSelectors.ids&&window.dragBlockSelectors.ids.size>0)for(let t of window.dragBlockSelectors.ids)e[t]=t;return e}(),k=s&&s[0]&&s[0].name?s[0].name:"",E=s&&s[0]&&s[0].value?s[0].value:"",_=s&&s[0]&&s[0].target?s[0].target:"",C=i&&i[0]&&i[0].name?i[0].name:"",x=i&&i[0]&&i[0].value?i[0].value:"",A=i&&i[0]&&i[0].target?i[0].target:"",B=d&&d[0]&&d[0].name?d[0].name:"",D=d&&d[0]&&d[0].value?d[0].value:"",j=d&&d[0]&&d[0].target?d[0].target:"";return(0,o.createElement)("div",{key:t},(0,o.createElement)("a",{className:r()("code-lines",{disabled:!!p}),onClick:()=>{y(t)}},(0,o.createElement)("code",{className:"line event"},(0,o.createElement)("span",{className:"event-label keyword"},a[e.slug].label),(0,o.createElement)("span",{className:"event-name connector"},(0,n.__)("on","dragblock")),(0,o.createElement)("span",{className:"event-source"},l||(0,n.__)("this","dragblock"))),k&&E?(0,o.createElement)("code",{className:"line condition"},(0,o.createElement)("span",{className:"condition-label keyword"},(0,n.__)("If","dragblock")),_?(0,o.createElement)("span",{className:"cond-target condTarget1"},_):null,(0,o.createElement)("span",{className:"condition-name connector"},k),(0,o.createElement)("span",{className:"cond-target condTarget1"},E)):null,x&&C?(0,o.createElement)("code",{className:r()("line then-action",{disabled:!!p})},(0,o.createElement)("span",{className:"then-action-label keyword"},(0,n.__)("Then","dragblock")),(0,o.createElement)("span",{className:"then-action-name connector"},C),(0,o.createElement)("span",{className:"then-action-value"},x),A?(0,o.createElement)(o.Fragment,null,(0,o.createElement)("span",{className:"thenActTarget-text connector"},S(C)),(0,o.createElement)("span",{className:"thenActTarget-value"},A)):null):(0,o.createElement)("code",{className:"line then-action"},(0,n.__)("do nothing","dragblock")),k&&E&&D&&B?(0,o.createElement)("code",{className:"line else-action"},(0,o.createElement)("span",{className:"else-action-label keyword"},(0,n.__)("Else","dragblock")),(0,o.createElement)("span",{className:"else-action-name connector"},B),(0,o.createElement)("span",{className:"else-action-value"},D),j?(0,o.createElement)(o.Fragment,null,(0,o.createElement)("span",{className:"elseActTarget-text connector"},S(B)),(0,o.createElement)("span",{className:"elseActTarget-value"},j)):null):null),w===t?(0,o.createElement)(m,{className:"dragblock-interactions-control-popover",onClose:()=>{y(-1)},onMouseLeave:()=>{y(-1)},actions:{hidden:!1},onAction:(e,l)=>{"disable"===e&&(l[t].disabled?delete l[t].disabled:l[t].disabled="*"),y(-1),c({dragBlockScripts:l})},disabled:p,list:f,index:t},(0,o.createElement)("div",{className:"trigger-lines"},(0,o.createElement)("div",{className:"line event"},(0,o.createElement)("div",{className:"label"},a[e.slug].label," ",(0,n.__)("On","dragblock")),(0,o.createElement)("div",{className:"controls"},(0,o.createElement)(g,{options:b,onChange:e=>{N("eventSource",e,t)},value:l,placeholder:(0,n.__)("Selector","dragblock")}))),(0,o.createElement)("div",{className:"line condition"},(0,o.createElement)("div",{className:"label"},(0,n.__)("If","dragblock")),(0,o.createElement)("div",{className:"controls"},k?(0,o.createElement)(g,{options:b,value:_,onChange:e=>{N("conditions","target",e,t)},placeholder:(0,n.__)("Selector","dragblock")}):null,(0,o.createElement)(u.SelectControl,{value:k,options:[{label:"Choose a Condition",value:""},{label:"Is",value:"is"}],onChange:e=>{N("conditions","name",e,t)}}),k?(0,o.createElement)(g,{options:b,value:E,onChange:e=>{N("conditions","value",e,t)},placeholder:(0,n.__)("Selector","dragblock")}):null)),(0,o.createElement)("div",{className:"line then-actions"},(0,o.createElement)("div",{className:"label"},(0,n.__)("Then","dragblock")),(0,o.createElement)("div",{className:"controls"},(0,o.createElement)(u.SelectControl,{value:C,options:O,onChange:e=>{N("thenActions","name",e,t)}}),C?(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{position:"top",options:-1!==C.indexOf("Class")?h:-1!==C.indexOf("Id")?v:null,value:x,onChange:e=>{N("thenActions","value",e,t)},placeholder:-1!==C.indexOf("Class")?(0,n.__)("Class Name","dragblock"):-1!==C.indexOf("Id")?(0,n.__)("ID","dragblock"):"default"}),(0,o.createElement)("div",{className:"components-base-control fake"},S(C)),(0,o.createElement)(g,{position:"top",options:b,value:A,onChange:e=>{N("thenActions","target",e,t)},placeholder:(0,n.__)("Selector","dragblock")})):null)),k&&E?(0,o.createElement)("div",{className:"line else-actions"},(0,o.createElement)("div",{className:"label"},(0,n.__)("Else","dragblock")),(0,o.createElement)("div",{className:"controls"},(0,o.createElement)(u.SelectControl,{value:B,options:O,onChange:e=>{N("elseActions","name",e,t)}}),B?(0,o.createElement)(o.Fragment,null,(0,o.createElement)(g,{position:"top",options:D&&-1!==D.indexOf("Class")?h:D&&-1!==D.indexOf("Id")?v:null,value:D,onChange:e=>{N("elseActions","value",e,t)},placeholder:D&&-1!==D.indexOf("Class")?(0,n.__)("Class Name","dragblock"):D&&-1!==D.indexOf("Id")?(0,n.__)("ID","dragblock"):null}),(0,o.createElement)("div",{className:"components-base-control fake"},S(B)),(0,o.createElement)(g,{position:"top",options:b,value:j,onChange:e=>{N("elseActions","target",e,t)},placeholder:(0,n.__)("Selector","dragblock")})):null)):null)):null)}))))))}),"dragBlockInteractionsControls");wp.hooks.addFilter("editor.BlockEdit","dragblock/interactions-controls",b),window.wp["components/build/panel/body"];const h=(e,t,l)=>{let n=l.replaceAll(".","").replaceAll("#","").trim(),a="";switch(t){case"toggleClass":a+=`${e}.classList.toggle('${n}');`;break;case"toggleId":a+=`if(${e}.id!=='${n}'){${e}.id='${n}'}else{${e}.id=''}`;break;case"addClass":a+=`${e}.classList.add('${n}');`;break;case"addId":a+=`${e}.id='${n}';`;break;case"removeClass":a+=`${e}.classList.remove('${n}');`;break;case"removeId":a+=`if(${e}.id!=='${n}'){${e}.id=''}`}return a},f=(e,t)=>{const{slug:l,eventSource:n,conditions:a,thenActions:o,elseActions:c,disabled:r}=e,s=a&&a[0]&&a[0].name?a[0].name:"",i=a&&a[0]&&a[0].value?a[0].value:"",d=a&&a[0]&&a[0].target?a[0].target:"",u=o&&o[0]&&o[0].name?o[0].name:"",m=o&&o[0]&&o[0].value?o[0].value:"",p=o&&o[0]&&o[0].target?o[0].target:"",g=c&&c[0]&&c[0].name?c[0].name:"",b=c&&c[0]&&c[0].value?c[0].value:"";let f=n||t,v=d||t,k=p||t,E=(c&&c[0]&&c[0].target?c[0].target:"")||t,w="",y="",_="",C="";if(s&&"is"===s&&i){let e="this";v!==f&&(e="condTarget",y+=`let ${e}=document.querySelector('${v}');`),y+=`if(${e}&&${e}.matches('${i}')`}if(u&&m){let e="this";k!==f&&(e="thenActTarget",_+=`let ${e}=document.querySelector('${k}');`,_+=`if(${e}){`),_+=h(e,u,m),"this"!==e&&(_+="}")}if(g&&b){let e="this";E!==f&&(e="elseActTarget",C+=`let ${e}=document.querySelector('${E}');`,C+=`if(${e}){`),C+=h(e,g,b),"this"!==e&&(C+="}")}return w+=y?y+"{"+_+"}":_,y&&C&&(w+="else {"+C+"}"),w},v=(0,i.createHigherOrderComponent)((e=>t=>(function(e){const{attributes:t,setAttributes:l,isSelected:n,clientId:a,name:c}=e;let{dragBlockScripts:r,dragBlockClientId:s,dragBlockJS:i}=t,d="";if(r&&r.length>0){let e=`[data-dragblock-client-id="${s}"]`,t={},l=`window['${s}']`;for(let l of r)l.slug&&!l.disabled&&(t[l.slug]||(t[l.slug]=""),t[l.slug]+=f(l,e));for(let n in t)t[n]&&(d+=`${l}=document.querySelector('${e}');`,d+=`${l}.addEventListener('${n}',function(){${t[n]}});`)}(0,o.useEffect)((()=>{d!==i&&l({dragBlockJS:d})}))}(t),(0,o.createElement)(o.Fragment,null,(0,o.createElement)(e,{...t})))),"dragBlockInteractionsScript");wp.hooks.addFilter("editor.BlockListBlock","dragblock/interactions-script",v),window.wp["blockEditor/build/components"],wp.hooks.addFilter("blocks.getSaveContent.extraProps","dragblock/interactions-save",(function(e,t,l){const{dragBlockScripts:n}=l;if(n)for(let e of n);return e}))},4184:function(e,t){var l;!function(){"use strict";var n={}.hasOwnProperty;function a(){for(var e=[],t=0;t<arguments.length;t++){var l=arguments[t];if(l){var o=typeof l;if("string"===o||"number"===o)e.push(l);else if(Array.isArray(l)){if(l.length){var c=a.apply(null,l);c&&e.push(c)}}else if("object"===o){if(l.toString!==Object.prototype.toString&&!l.toString.toString().includes("[native code]")){e.push(l.toString());continue}for(var r in l)n.call(l,r)&&l[r]&&e.push(r)}}}return e.join(" ")}e.exports?(a.default=a,e.exports=a):void 0===(l=function(){return a}.apply(t,[]))||(e.exports=l)}()}},l={};function n(e){var a=l[e];if(void 0!==a)return a.exports;var o=l[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.m=t,e=[],n.O=function(t,l,a,o){if(!l){var c=1/0;for(d=0;d<e.length;d++){l=e[d][0],a=e[d][1],o=e[d][2];for(var r=!0,s=0;s<l.length;s++)(!1&o||c>=o)&&Object.keys(n.O).every((function(e){return n.O[e](l[s])}))?l.splice(s--,1):(r=!1,o<c&&(c=o));if(r){e.splice(d--,1);var i=a();void 0!==i&&(t=i)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[l,a,o]},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var l in t)n.o(t,l)&&!n.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},function(){var e={2999:0,531:0};n.O.j=function(t){return 0===e[t]};var t=function(t,l){var a,o,c=l[0],r=l[1],s=l[2],i=0;if(c.some((function(t){return 0!==e[t]}))){for(a in r)n.o(r,a)&&(n.m[a]=r[a]);if(s)var d=s(n)}for(t&&t(l);i<c.length;i++)o=c[i],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(d)},l=self.webpackChunkdragblock=self.webpackChunkdragblock||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var a=n.O(void 0,[531],(function(){return n(5688)}));a=n.O(a)}();